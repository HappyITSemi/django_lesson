{% extends './base.html' %}
{% load static %}
{% block title %}Todoインデックス{% endblock %}
{% block content %}
    <div class="col-lg-7 border order-2">
        ▶Todo一覧<br/>
        {% if messages %}
            {% for message in messages %}
            {{ message }}<br/>
            {% endfor %}
        {% endif %}
        <hr/>
        <a role="button" class="btn  btn-sm btn-outline-primary" href="{% url "sns:sns_create" %}">新規作成</a>
        <table class="table table-striped table-hover table-bordered">
            <thead>
            <tr>
                <th>id</th>
                <th>タイトル</th>
                <th>投稿内容</th>
                <th>作成日<br/>
                    更新日
                </th>
                <th>更新</th>
                <th>削除</th>
            </tr>
            </thead>
            <tbody>
            {% for mention in object_list %}
                <tr>
                    <td>{{ sns.pk }}</td>
                    <td><a href="{% url 'sns:sns_detail' sns.pk %}"> {{ sns.name }} </a></td>
                    <td>{{ sns.description }}</td>
                    <td>{{ sns.due_date|date:"Y-m-j" }}</td>
                    <td> {{ sns.created_at|date:"Y-m-j" }}<br/>
                        {{ sns.updated_at|date:"Y-m-j" }}</td>
                    <td><a role="button" class="btn  btn-sm btn-outline-primary"
                           href="{% url 'sns:sns_update' sns.pk %}">更新</a></td>
                    <td><a role="button" class="btn  btn-sm btn-outline-primary"
                           href="{% url 'sns:sns_delete' sns.pk %}">削除</a></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <br/>
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.previous_page_number }}">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                {% endif %}

                {% for num in page_obj.paginator.page_range %}
                    {% if num <= page_obj.number|add:5 and num >= page_obj.number|add:-5 %}

                        {% if page_obj.number == num %}
                            <li class="page-item active"><a class="page-link" href="#">{{ num }}</a></li>
                        {% else %}
                            <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
                        {% endif %}
                    {% endif %}
                {% endfor %}

                {% if page_obj.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.next_page_number }}">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </nav>
        <br/>

    </div>
{% endblock %}
